{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/quima/OneDrive/Desktop/bantaybuhay/app/api/analytics/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport type { Analytics } from \"@/types\"\n\n// Mock incident data for analytics\nconst mockIncidents = [\n  { incident_type: \"sos\", severity: \"critical\", status: \"resolved\" },\n  { incident_type: \"gesture_recognition\", severity: \"high\", status: \"resolved\" },\n  { incident_type: \"facial_recognition\", severity: \"medium\", status: \"responding\" },\n]\n\nexport async function GET(request: NextRequest) {\n  const responder_id = request.nextUrl.searchParams.get(\"responder_id\")\n\n  // Calculate analytics\n  const total = mockIncidents.length\n  const resolved = mockIncidents.filter((i) => i.status === \"resolved\").length\n  const byType = mockIncidents.reduce(\n    (acc, i) => {\n      acc[i.incident_type] = (acc[i.incident_type] || 0) + 1\n      return acc\n    },\n    {} as Record<string, number>,\n  )\n  const bySeverity = mockIncidents.reduce(\n    (acc, i) => {\n      acc[i.severity] = (acc[i.severity] || 0) + 1\n      return acc\n    },\n    {} as Record<string, number>,\n  )\n\n  const analytics: Analytics = {\n    total_incidents: total,\n    resolved_incidents: resolved,\n    average_response_time: 1200, // seconds\n    incidents_by_type: byType,\n    incidents_by_severity: bySeverity,\n    responders_active: 2,\n    responders_total: 2,\n    last_updated: new Date().toISOString(),\n  }\n\n  return NextResponse.json({\n    success: true,\n    data: analytics,\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;;AAGA,mCAAmC;AACnC,MAAM,gBAAgB;IACpB;QAAE,eAAe;QAAO,UAAU;QAAY,QAAQ;IAAW;IACjE;QAAE,eAAe;QAAuB,UAAU;QAAQ,QAAQ;IAAW;IAC7E;QAAE,eAAe;QAAsB,UAAU;QAAU,QAAQ;IAAa;CACjF;AAEM,eAAe,IAAI,OAAoB;IAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAEtD,sBAAsB;IACtB,MAAM,QAAQ,cAAc,MAAM;IAClC,MAAM,WAAW,cAAc,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,YAAY,MAAM;IAC5E,MAAM,SAAS,cAAc,MAAM,CACjC,CAAC,KAAK;QACJ,GAAG,CAAC,EAAE,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,aAAa,CAAC,IAAI,CAAC,IAAI;QACrD,OAAO;IACT,GACA,CAAC;IAEH,MAAM,aAAa,cAAc,MAAM,CACrC,CAAC,KAAK;QACJ,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI;QAC3C,OAAO;IACT,GACA,CAAC;IAGH,MAAM,YAAuB;QAC3B,iBAAiB;QACjB,oBAAoB;QACpB,uBAAuB;QACvB,mBAAmB;QACnB,uBAAuB;QACvB,mBAAmB;QACnB,kBAAkB;QAClB,cAAc,IAAI,OAAO,WAAW;IACtC;IAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;QACvB,SAAS;QACT,MAAM;IACR;AACF"}}]
}